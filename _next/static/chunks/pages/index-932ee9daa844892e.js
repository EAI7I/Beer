(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(5996)}])},6528:function(n,e,r){"use strict";r.d(e,{h:function(){return f}});var t=r(5893),a=r(5897),c=r.n(a),i=r(8050),o=r.n(i),s=r(7294),u=r(3762),l=function(){var n=(0,s.useContext)(u._),e=n.onSearch,r=n.inputRef;return(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{className:o().input,id:"search",type:"text",placeholder:"I'm searching (\u25d5\u203f\u25d5)",onKeyPress:e,ref:r}),(0,t.jsx)("label",{className:o().label,htmlFor:"search",children:"Press 'Enter' to search"})]})},h=r(1664),d=r.n(h),f=function(n){var e=n.type,r=n.showResetBtn,a=n.onResetSearch;return(0,t.jsx)("div",{className:c().header,children:(0,t.jsxs)("div",{className:c().wrapper,children:[(0,t.jsx)(d(),{href:"/",children:(0,t.jsx)("h1",{children:"WikiBeer"})}),(0,t.jsxs)("div",{className:c().search,children:[r&&(0,t.jsx)("button",{onClick:function(){return a&&a()},children:"Reset search"}),"list"===e?(0,t.jsx)(l,{}):(0,t.jsx)("h4",{children:"And you have good taste, Bro \ud83d\ude0e"})]})]})})}},1738:function(n,e,r){"use strict";r.d(e,{p:function(){return i}});var t=r(5893),a=r(1575),c=r.n(a),i=function(){return(0,t.jsx)("div",{className:c().box,children:(0,t.jsxs)("div",{className:c().container,children:[(0,t.jsx)("span",{className:c().circle}),(0,t.jsx)("span",{className:c().circle}),(0,t.jsx)("span",{className:c().circle}),(0,t.jsx)("span",{className:c().circle})]})})}},8773:function(n,e,r){"use strict";r.d(e,{h9:function(){return u},tu:function(){return s},uh:function(){return l}});var t=r(7568),a=r(4051),c=r.n(a),i=r(9669),o=r.n(i)().create({baseURL:"https://api.punkapi.com/v2/beers/",headers:{"Access-Control-Allow-Origin":!0}}),s=function(){var n=(0,t.Z)(c().mark((function n(e){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.get("?page=".concat(e,"&per_page=16"),{headers:{"Access-Control-Allow-Origin":"*"}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),u=function(){var n=(0,t.Z)(c().mark((function n(e){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.get("?beer_name=".concat(e),{headers:{"Access-Control-Allow-Origin":"*"}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,t.Z)(c().mark((function n(e){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.get("".concat(e),{headers:{"Access-Control-Allow-Origin":"*"}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},3762:function(n,e,r){"use strict";r.d(e,{_:function(){return t}});var t=r(7294).createContext([])},5996:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return O}});var t=r(7568),a=r(4051),c=r.n(a),i=r(5893),o=r(1673),s=r.n(o),u=r(9008),l=r.n(u),h=r(7294),d=r(8773),f=r(3873),p=r.n(f),_=r(1664),x=r.n(_),m=r(3454),v=h.memo((function(n){var e=n.id,r=n.src,t=n.name,a=n.description;return(0,i.jsx)(x(),{href:"/beer/".concat(e),children:(0,i.jsxs)("div",{className:p().card,children:[r?(0,i.jsx)("img",{src:r}):(0,i.jsx)("img",{src:"".concat(m.env.IMAGE,"/no-photos.png")}),(0,i.jsx)("h3",{children:t}),(0,i.jsx)("h4",{children:a.length>140?"".concat(a.substring(0,140),"..."):a})]})})})),g=r(6528),j=r(1738),b=r(6247),w=r.n(b);function N(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}function y(n){return function(n){if(Array.isArray(n))return N(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,e){if(n){if("string"===typeof n)return N(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(n,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C="...",P=function(n,e){var r=e-n+1;return Array.from({length:r},(function(e,r){return r+n}))},S=function(n){var e=n.onPageChange,r=n.totalCount,t=n.siblingCount,a=n.currentPage,c=n.pageSize,o=n.search,s=n.notFound,u=n.errors,l=function(n){var e=n.totalCount,r=n.pageSize,t=n.siblingCount,a=void 0===t?1:t,c=n.currentPage;return(0,h.useMemo)((function(){var n=Math.ceil(e/r);if(a+5>=n)return P(1,n);var t=Math.max(c-a,1),i=Math.min(c+a,n),o=t>2,s=i<n-2,u=1,l=n;if(!o&&s)return y(P(1,3+2*a)).concat([C,n]);if(o&&!s){var h=P(n-(3+2*a)+1,n);return[u,C].concat(y(h))}if(o&&s){var d=P(t,i);return[u,C].concat(y(d),[C,l])}}),[e,r,a,c])}({currentPage:a,totalCount:r,siblingCount:t,pageSize:c});if(0===a||l&&l.length<2)return null;return(0,i.jsx)(i.Fragment,{children:!u&&(0,i.jsxs)("ul",{className:w().ul,children:[!s&&(0,i.jsx)("li",{className:w().btn,onClick:function(){return 1===a?null:void e(a-1)},children:(0,i.jsx)("div",{className:w().arrow_left,children:"\u2190"})}),!s&&l&&l.map((function(n){return 0!==o.length&&o.length<c?(0,i.jsx)(i.Fragment,{}):n===C?(0,i.jsx)("li",{className:w().dots,children:"\u2026"}):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("li",{className:a===+n?w().active:w().inactive,onClick:function(){return e(+n)},children:n})})})),!s&&(0,i.jsx)("li",{className:w().btn,onClick:function(){return a===Math.ceil(r/c)?null:void e(a+1)},children:(0,i.jsx)("div",{className:w().arrow_right,children:"\u2192"})})]})})},k=r(3762),A=r(3454),O=function(){var n=(0,h.useState)([]),e=n[0],r=n[1],a=(0,h.useState)(!1),o=a[0],u=a[1],f=(0,h.useState)([]),p=f[0],_=f[1],x=(0,h.useState)(1),m=x[0],b=x[1],w=(0,h.useState)(!1),N=w[0],y=w[1],C=(0,h.useState)(!1),P=C[0],O=C[1],M=(0,h.useState)(!1),R=M[0],F=M[1],E=(0,h.useRef)(null),I=function(){var n=(0,t.Z)(c().mark((function n(e){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("Enter"!==e.key){n.next=11;break}if(r=e.target.value,b(1),O(!1),u(!1),0===r.length){n.next=10;break}return n.next=8,(0,d.h9)(r).then((function(n){n.data.length>0?(_(n.data),y(!0),u(!0)):(O(!0),y(!0),u(!0))})).catch((function(n){return F(!0)}));case 8:n.next=11;break;case 10:r||(_([]),y(!1),u(!0));case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),B=(0,h.useMemo)((function(){var n=16*(m-1),r=+n+16;return p.length>0?p.slice(n,r):e}),[m,p,e]);return(0,h.useEffect)((function(){0===p.length&&(u(!1),0===p.length&&(0,d.tu)(m).then((function(n){r(n.data),u(!0)})).catch((function(n){return F(!0)}))),window.scroll(0,0)}),[m]),(0,i.jsxs)("div",{className:s().container,children:[(0,i.jsxs)(l(),{children:[(0,i.jsx)("title",{children:"Beer"}),(0,i.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,i.jsx)("link",{rel:"icon",href:"".concat(A.env.FAVICON,"/favicon.ico/")})]}),(0,i.jsx)("header",{children:(0,i.jsx)(k._.Provider,{value:{onSearch:I,inputRef:E},children:(0,i.jsx)(g.h,{type:"list",showResetBtn:N,onResetSearch:function(){_([]),O(!1),y(!1),E.current&&(E.current.value="")}})})}),(0,i.jsxs)("main",{className:s().main,children:[o&&!P&&B.map((function(n){return(0,i.jsx)(v,{id:n.id,src:n.image_url,name:n.name,description:n.description})})),!o&&!R&&(0,i.jsx)(j.p,{}),P&&(0,i.jsx)("div",{className:s().not_found,children:(0,i.jsx)("h2",{children:"Sorry, not found :("})}),R&&(0,i.jsx)("div",{className:s().not_found,children:(0,i.jsx)("h2",{children:"Sorry, something went wrong..."})})]}),(0,i.jsx)("footer",{className:s().footer,children:(0,i.jsx)(S,{currentPage:m,totalCount:0===p.length?325:p.length,siblingCount:1,pageSize:16,onPageChange:function(n){return b(n)},search:p,notFound:P,errors:R})})]})}},3873:function(n){n.exports={card:"BeerCard_card__bNGZO"}},5897:function(n){n.exports={header:"Header_header__Z8PUO",wrapper:"Header_wrapper__KxwYn",search:"Header_search__esM9R"}},8050:function(n){n.exports={input:"Input_input__lvORT",label:"Input_label__CWIqo"}},6247:function(n){n.exports={ul:"Pagination_ul__nC3W_",btn:"Pagination_btn__lh1dG",dots:"Pagination_dots__5it1M",active:"Pagination_active__RL1sM",inactive:"Pagination_inactive__XAPUk"}},1575:function(n){n.exports={box:"Preloader_box__DtFBk",container:"Preloader_container__KO_eF",circle:"Preloader_circle__9MlRm",move:"Preloader_move__3nTGF",grow:"Preloader_grow__TTPxG"}},1673:function(n){n.exports={container:"Home_container__97eC3",main:"Home_main__OVLM4",not_found:"Home_not_found__GgtFt",footer:"Home_footer__zed0_"}}},function(n){n.O(0,[644,774,888,179],(function(){return e=8312,n(n.s=e);var e}));var e=n.O();_N_E=e}]);