(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(5996)}])},6528:function(e,n,r){"use strict";r.d(n,{h:function(){return f}});var t=r(5893),a=r(5897),c=r.n(a),i=r(8050),s=r.n(i),o=r(7294),u=r(3762),l=function(){var e=(0,o.useContext)(u._),n=e.onSearch,r=e.inputRef;return(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{className:s().input,id:"search",type:"text",placeholder:"I'm searching (\u25d5\u203f\u25d5)",onKeyPress:n,ref:r}),(0,t.jsx)("label",{className:s().label,htmlFor:"search",children:"Press 'Enter' to search"})]})},h=r(1664),d=r.n(h),f=function(e){var n=e.type,r=e.showResetBtn,a=e.onResetSearch;return(0,t.jsx)("div",{className:c().header,children:(0,t.jsxs)("div",{className:c().wrapper,children:[(0,t.jsx)(d(),{href:"/",children:(0,t.jsx)("h1",{children:"WikiBeer"})}),(0,t.jsxs)("div",{className:c().search,children:[r&&(0,t.jsx)("button",{onClick:function(){return a&&a()},children:"Reset search"}),"list"===n?(0,t.jsx)(l,{}):(0,t.jsx)("h4",{children:"And you have good taste, Bro \ud83d\ude0e"})]})]})})}},1738:function(e,n,r){"use strict";r.d(n,{p:function(){return i}});var t=r(5893),a=r(1575),c=r.n(a),i=function(){return(0,t.jsx)("div",{className:c().box,children:(0,t.jsxs)("div",{className:c().container,children:[(0,t.jsx)("span",{className:c().circle}),(0,t.jsx)("span",{className:c().circle}),(0,t.jsx)("span",{className:c().circle}),(0,t.jsx)("span",{className:c().circle})]})})}},8773:function(e,n,r){"use strict";r.d(n,{h9:function(){return u},tu:function(){return o},uh:function(){return l}});var t=r(7568),a=r(4051),c=r.n(a),i=r(9669),s=r.n(i)().create({baseURL:"https://api.punkapi.com/v2/beers/",headers:{"Access-Control-Allow-Origin":!0}}),o=function(){var e=(0,t.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("?page=".concat(n,"&per_page=16"),{headers:{"Access-Control-Allow-Origin":"*"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),u=function(){var e=(0,t.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("?beer_name=".concat(n),{headers:{"Access-Control-Allow-Origin":"*"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,t.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("".concat(n),{headers:{"Access-Control-Allow-Origin":"*"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},3762:function(e,n,r){"use strict";r.d(n,{_:function(){return t}});var t=r(7294).createContext([])},5996:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return k}});var t=r(7568),a=r(4051),c=r.n(a),i=r(5893),s=r(1673),o=r.n(s),u=r(9008),l=r.n(u),h=r(7294),d=r(8773),f=r(3873),p=r.n(f),_=r(1664),x=r.n(_),m=h.memo((function(e){var n=e.id,r=e.src,t=e.name,a=e.description;return(0,i.jsx)(x(),{href:"/beer/".concat(n),children:(0,i.jsxs)("div",{className:p().card,children:[r?(0,i.jsx)("img",{src:r}):(0,i.jsx)("img",{src:"/beer/assets/no-photos.png"}),(0,i.jsx)("h3",{children:t}),(0,i.jsx)("h4",{children:a.length>140?"".concat(a.substring(0,140),"..."):a})]})})})),v=r(6528),g=r(1738),j=r(6247),b=r.n(j);function w(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function N(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"===typeof e)return w(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y="...",C=function(e,n){var r=n-e+1;return Array.from({length:r},(function(n,r){return r+e}))},P=function(e){var n=e.onPageChange,r=e.totalCount,t=e.siblingCount,a=e.currentPage,c=e.pageSize,s=e.search,o=e.notFound,u=e.errors,l=function(e){var n=e.totalCount,r=e.pageSize,t=e.siblingCount,a=void 0===t?1:t,c=e.currentPage;return(0,h.useMemo)((function(){var e=Math.ceil(n/r);if(a+5>=e)return C(1,e);var t=Math.max(c-a,1),i=Math.min(c+a,e),s=t>2,o=i<e-2,u=1,l=e;if(!s&&o)return N(C(1,3+2*a)).concat([y,e]);if(s&&!o){var h=C(e-(3+2*a)+1,e);return[u,y].concat(N(h))}if(s&&o){var d=C(t,i);return[u,y].concat(N(d),[y,l])}}),[n,r,a,c])}({currentPage:a,totalCount:r,siblingCount:t,pageSize:c});if(0===a||l&&l.length<2)return null;return(0,i.jsx)(i.Fragment,{children:!u&&(0,i.jsxs)("ul",{className:b().ul,children:[!o&&(0,i.jsx)("li",{className:b().btn,onClick:function(){return 1===a?null:void n(a-1)},children:(0,i.jsx)("div",{className:b().arrow_left,children:"\u2190"})}),!o&&l&&l.map((function(e){return 0!==s.length&&s.length<c?(0,i.jsx)(i.Fragment,{}):e===y?(0,i.jsx)("li",{className:b().dots,children:"\u2026"}):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("li",{className:a===+e?b().active:b().inactive,onClick:function(){return n(+e)},children:e})})})),!o&&(0,i.jsx)("li",{className:b().btn,onClick:function(){return a===Math.ceil(r/c)?null:void n(a+1)},children:(0,i.jsx)("div",{className:b().arrow_right,children:"\u2192"})})]})})},S=r(3762),k=function(){var e=(0,h.useState)([]),n=e[0],r=e[1],a=(0,h.useState)(!1),s=a[0],u=a[1],f=(0,h.useState)([]),p=f[0],_=f[1],x=(0,h.useState)(1),j=x[0],b=x[1],w=(0,h.useState)(!1),N=w[0],y=w[1],C=(0,h.useState)(!1),k=C[0],A=C[1],O=(0,h.useState)(!1),R=O[0],M=O[1],F=(0,h.useRef)(null),E=function(){var e=(0,t.Z)(c().mark((function e(n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==n.key){e.next=11;break}if(r=n.target.value,b(1),A(!1),u(!1),0===r.length){e.next=10;break}return e.next=8,(0,d.h9)(r).then((function(e){e.data.length>0?(_(e.data),y(!0),u(!0)):(A(!0),y(!0),u(!0))})).catch((function(e){return M(!0)}));case 8:e.next=11;break;case 10:r||(_([]),y(!1),u(!0));case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),B=(0,h.useMemo)((function(){var e=16*(j-1),r=+e+16;return p.length>0?p.slice(e,r):n}),[j,p,n]);return(0,h.useEffect)((function(){0===p.length&&(u(!1),0===p.length&&(0,d.tu)(j).then((function(e){r(e.data),u(!0)})).catch((function(e){return M(!0)}))),window.scroll(0,0)}),[j]),(0,i.jsxs)("div",{className:o().container,children:[(0,i.jsxs)(l(),{children:[(0,i.jsx)("title",{children:"Beer"}),(0,i.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,i.jsx)("link",{rel:"icon",href:"/beer/favicon.ico"})]}),(0,i.jsx)("header",{children:(0,i.jsx)(S._.Provider,{value:{onSearch:E,inputRef:F},children:(0,i.jsx)(v.h,{type:"list",showResetBtn:N,onResetSearch:function(){_([]),A(!1),y(!1),F.current&&(F.current.value="")}})})}),(0,i.jsxs)("main",{className:o().main,children:[s&&!k&&B.map((function(e){return(0,i.jsx)(m,{id:e.id,src:e.image_url,name:e.name,description:e.description})})),!s&&!R&&(0,i.jsx)(g.p,{}),k&&(0,i.jsx)("div",{className:o().not_found,children:(0,i.jsx)("h2",{children:"Sorry, not found :("})}),R&&(0,i.jsx)("div",{className:o().not_found,children:(0,i.jsx)("h2",{children:"Sorry, something went wrong..."})})]}),(0,i.jsx)("footer",{className:o().footer,children:(0,i.jsx)(P,{currentPage:j,totalCount:0===p.length?325:p.length,siblingCount:1,pageSize:16,onPageChange:function(e){return b(e)},search:p,notFound:k,errors:R})})]})}},3873:function(e){e.exports={card:"BeerCard_card__bNGZO"}},5897:function(e){e.exports={header:"Header_header__Z8PUO",wrapper:"Header_wrapper__KxwYn",search:"Header_search__esM9R"}},8050:function(e){e.exports={input:"Input_input__lvORT",label:"Input_label__CWIqo"}},6247:function(e){e.exports={ul:"Pagination_ul__nC3W_",btn:"Pagination_btn__lh1dG",dots:"Pagination_dots__5it1M",active:"Pagination_active__RL1sM",inactive:"Pagination_inactive__XAPUk"}},1575:function(e){e.exports={box:"Preloader_box__DtFBk",container:"Preloader_container__KO_eF",circle:"Preloader_circle__9MlRm",move:"Preloader_move__3nTGF",grow:"Preloader_grow__TTPxG"}},1673:function(e){e.exports={container:"Home_container__97eC3",main:"Home_main__OVLM4",not_found:"Home_not_found__GgtFt",footer:"Home_footer__zed0_"}}},function(e){e.O(0,[644,774,888,179],(function(){return n=8312,e(e.s=n);var n}));var n=e.O();_N_E=n}]);